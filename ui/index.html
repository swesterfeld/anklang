<!DOCTYPE html>
<!-- This Source Code Form is licensed MPL-2.0: http://mozilla.org/MPL/2.0 -->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Anklang - Music Synthesizer and Composer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="importmap">
  {
    "imports": {
      "lit": "./lit.js",
      "lit/directives/ref": "./lit.js",
      "lit/directives/live": "./lit.js",
      "lit/directives/repeat": "./lit.js",
      "signal": "./signal.js"
    }
  }
  </script>
  <!-- modulepreload triggers a race in Firefox-122 that causes ES6 module loading error
    <link rel="modulepreload" href="./startup.js">
    <link rel="modulepreload" href="./all-components.js">
    <link rel="modulepreload" href="./browserified.js">
    <link rel="modulepreload" href="./util.js">
    <link rel="modulepreload" href="./vue.js">
    <link rel="modulepreload" href="./aseapi.js">
    <link rel="modulepreload" href="./little.js">
    <link rel="modulepreload" href="./lit.js">
    <link rel="modulepreload" href="./b/app.js">
    <link rel="modulepreload" href="./b/shell.js">
    <link rel="modulepreload" href="./b/piano-ctrl.js">
    <link rel="modulepreload" href="./b/envue.js"> -->
  <link rel="preload" as="style" href="global.css?csshash=@--CSSHASH--@">
  <link rel="preload" as="style" href="assets/AnklangIcons.css">
  <link rel="preload" as="style" href="material-icons.css">
  <link rel="preload" as="style" href="assets/fork-awesome.css">
  <link rel="preload" as="image" href="assets/spinner.svg">
  <link rel="preload" as="font" href="assets/AnklangIcons.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="assets/forkawesome-webfont.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="material-icons.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="InterVariable.woff2" type="font/woff2" crossorigin>
  <style> @font-face { font-family: "InterVariable"; font-display: swap; src: url("InterVariable.woff2") format("woff2-variations"); } </style>
  <link rel="stylesheet" href="vue-styles.css?csshash=@--CSSHASH--@">
  <style type="text/css" data-4litcomponent>@import url("global.css?csshash=@--CSSHASH--@");</style>
  <script type='application/json' id='--EMBEDD-config_json'>
  </script>
  <script> { "use strict"; // Early globals
    const packagejson = JSON.parse (document.getElementById ('--EMBEDD-config_json').innerHTML);
    Object.defineProperty (globalThis, '_', { value: t9n => t9n });
    Object.defineProperty (globalThis, 'CONFIG', { value: packagejson.config });
    Object.defineProperty (globalThis, '__DEV__', { value: CONFIG.mode !== 'production' });
    Object.defineProperty (globalThis, 'debug', { value: __DEV__ ? console.log : _ => undefined });
    Object.defineProperty (globalThis, 'assert', { value: console.assert });
    const document_startViewTransition = document.startViewTransition ? document.startViewTransition.bind (document) : null;
    Object.defineProperty (document, 'startViewTransition', { value: (func, want_transition = true) => {
      const async_updater = () => {
	const promises = [func()];
	/* Sync with possibly pending Vue changes */
	window.Vue?.nextTick && promises.push (new Promise (r => window.Vue.nextTick (r)));
	return Promise.all (promises);
      };
      if (want_transition && document_startViewTransition)
	document_startViewTransition (async_updater);
      else
	async_updater();
    }, });
  } </script>
  <script type="module" src="./signal.js"></script>
</head>
<body>
  <div id="b-app" class="b-app" style="display: flex; width: 100%; height: 100%; position: relative; z-index: 0;">
    <script type="module" src="./startup.js"></script>
    <script type="module" src="./mouse.js"></script>
    <script type="module" > {
      const b_app = document.querySelector ('#b-app');
      b_app.innerHTML = '<div>ANKLANG: Importing Modules...</div>';
    } </script>
  </div>
</body>
</html>
